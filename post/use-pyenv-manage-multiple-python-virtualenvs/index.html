<!doctype html><html lang=zh-cn itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>使用 pyenv 管理多个 Python 版本依赖环境 - DebugTalk</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes"><meta name=MobileOptimized content="width"><meta name=HandheldFriendly content="true"><meta name=applicable-device content="pc,mobile"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=mobile-web-app-capable content="yes"><meta name=author content="debugtalk"><meta name=description content="背景 从接触Python以来，一直都是采用virtualenv和virtualenvwrapper来管理不同项目的依赖环境，通过workon、"><meta name=keywords content="HttpRunner,Python,Go,博客,debugtalk,接口自动化测试,性能测试"><meta name=generator content="Hugo 0.110.0"><link rel=canonical href=https://debugtalk.com/post/use-pyenv-manage-multiple-python-virtualenvs/><link rel=icon href=/favicon.ico><link rel=stylesheet href=/sass/jane.min.d8d87b982993a745e5e7b6a6cbf257be8c3e82aab5e485f0908ad7e6c3501ab2.css integrity="sha256-2Nh7mCmTp0Xl57amy/JXvow+gqq15IXwkIrX5sNQGrI=" media=screen crossorigin=anonymous><link rel=stylesheet href=/css/custom.css><meta property="og:title" content="使用 pyenv 管理多个 Python 版本依赖环境"><meta property="og:description" content="背景 从接触Python以来，一直都是采用virtualenv和virtualenvwrapper来管理不同项目的依赖环境，通过workon、"><meta property="og:type" content="article"><meta property="og:url" content="https://debugtalk.com/post/use-pyenv-manage-multiple-python-virtualenvs/"><meta property="article:section" content="post"><meta property="article:published_time" content="2017-03-25T00:00:00+00:00"><meta property="article:modified_time" content="2017-03-25T00:00:00+00:00"><meta itemprop=name content="使用 pyenv 管理多个 Python 版本依赖环境"><meta itemprop=description content="背景 从接触Python以来，一直都是采用virtualenv和virtualenvwrapper来管理不同项目的依赖环境，通过workon、"><meta itemprop=datePublished content="2017-03-25T00:00:00+00:00"><meta itemprop=dateModified content="2017-03-25T00:00:00+00:00"><meta itemprop=wordCount content="3607"><meta itemprop=keywords content="Python,pyenv,"><meta name=twitter:card content="summary"><meta name=twitter:title content="使用 pyenv 管理多个 Python 版本依赖环境"><meta name=twitter:description content="背景 从接触Python以来，一直都是采用virtualenv和virtualenvwrapper来管理不同项目的依赖环境，通过workon、"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-81639610-1","auto"),ga("send","pageview"))</script></head><body><div id=back-to-top></div><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>DebugTalk</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><li class=mobile-menu-item><a class=menu-item-link href=https://debugtalk.com/>主页</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://debugtalk.com/post/>归档</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://debugtalk.com/tags/>标签</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://debugtalk.com/categories/>分类</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://debugtalk.com/about/>关于</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://debugtalk.com/index.xml>订阅</a></li></ul></nav><link rel=stylesheet href=/lib/photoswipe/photoswipe.min.css><link rel=stylesheet href=/lib/photoswipe/default-skin/default-skin.min.css><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>DebugTalk</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=https://debugtalk.com/>主页</a></li><li class=menu-item><a class=menu-item-link href=https://debugtalk.com/post/>归档</a></li><li class=menu-item><a class=menu-item-link href=https://debugtalk.com/tags/>标签</a></li><li class=menu-item><a class=menu-item-link href=https://debugtalk.com/categories/>分类</a></li><li class=menu-item><a class=menu-item-link href=https://debugtalk.com/about/>关于</a></li><li class=menu-item><a class=menu-item-link href=https://debugtalk.com/index.xml>订阅</a></li></ul></nav></header><div id=mobile-panel><main id=main class="main bg-llight wallpaper"><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>使用 pyenv 管理多个 Python 版本依赖环境</h1><div class=post-meta><div class=post-meta-author>by
debugtalk</div><div class=post-meta-time><time datetime=2017-03-25>2017-03-25</time></div><div class=post-meta__right><span class=post-meta-more>约 3607 字 -
预计阅读 8 分钟</span><div class=post-meta-category><a href=https://debugtalk.com/categories/Development/>Development</a></div><span id=busuanzi_container_page_pv>| 阅读 <span id=busuanzi_value_page_pv></span></span></div></div></header><div class=post-content><h2 id=背景>背景</h2><p>从接触Python以来，一直都是采用<a href=https://virtualenv.pypa.io/en/stable/><code>virtualenv</code></a>和<a href=https://pypi.python.org/pypi/virtualenvwrapper><code>virtualenvwrapper</code></a>来管理不同项目的依赖环境，通过<code>workon</code>、<code>mkvirtualenv</code>等命令进行虚拟环境切换，很是愉快。</p><p>然而，最近想让项目能兼容更多的Python版本，例如至少同时兼容<code>Python2.7</code>和<code>Python3.3+</code>，就发现采用之前的方式行不通了。</p><p>最大的问题在于，在本地计算机同时安装<code>Python2.7</code>和<code>Python3</code>后，即使分别针对两个Python版本安装了<code>virtualenv</code>和<code>virtualenvwrapper</code>，也无法让两个Python版本的<code>workon</code>、<code>mkvirtualenv</code>命令同时生效。另外一方面，要想在本地计算机安装多个Python版本，会发现安装的成本都比较高，实现方式也不够优雅。</p><p>幸运地是，针对该痛点，已经存在一个比较成熟的方案，那就是<a href=https://github.com/pyenv/pyenv><code>pyenv</code></a>。</p><p>如下是官方的介绍。</p><blockquote><p>pyenv lets you easily switch between multiple versions of Python. It&rsquo;s simple, unobtrusive, and follows the UNIX tradition of single-purpose tools that do one thing well.</p></blockquote><blockquote><p>This project was forked from <a href=https://github.com/rbenv/rbenv>rbenv</a> and <a href=https://github.com/rbenv/ruby-build>ruby-build</a>, and modified for Python.</p></blockquote><p>本文就针对<code>pyenv</code>最核心的功能进行介绍。</p><h2 id=基本原理>基本原理</h2><p>如果要讲解<code>pyenv</code>的工作原理，基本上采用一句话就可以概括，那就是：修改系统环境变量<code>PATH</code>。</p><p>对于系统环境变量<code>PATH</code>，相信大家都不陌生，里面包含了一串由冒号分隔的路径，例如<code>/usr/local/bin:/usr/bin:/bin</code>。每当在系统中执行一个命令时，例如<code>python</code>或<code>pip</code>，操作系统就会在<code>PATH</code>的所有路径中从左至右依次寻找对应的命令。因为是依次寻找，因此排在左边的路径具有更高的优先级。</p><p>而<code>pyenv</code>做的，就是在<code>PATH</code>最前面插入一个<code>$(pyenv root)/shims</code>目录。这样，<code>pyenv</code>就可以通过控制<code>shims</code>目录中的Python版本号，来灵活地切换至我们所需的Python版本。</p><p>如果还想了解更多细节，可以查看<a href=https://github.com/pyenv/pyenv><code>pyenv</code></a>的文档介绍及其源码实现。</p><h2 id=环境初始化>环境初始化</h2><p><code>pyenv</code>的安装方式包括多种，重点推荐采用<a href=https://github.com/pyenv/pyenv-installer><code>pyenv-installer</code></a>的方式，原因主要有两点：</p><ul><li>通过<code>pyenv-installer</code>可一键安装<code>pyenv</code>全家桶，后续也可以很方便地实现一键升级；</li><li><code>pyenv-installer</code>的安装方式基于<code>GitHub</code>，可保证总是使用到最新版本的<code>pyenv</code>，并且<code>Python</code>版本库也是最新最全的。</li></ul><h3 id=install--config>install && config</h3><p>通过如下命令安装<code>pyenv</code>全家桶。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ curl -L https://raw.githubusercontent.com/pyenv/pyenv-installer/master/bin/pyenv-installer <span class=p>|</span> bash
</span></span></code></pre></td></tr></table></div></div><p>内容除了包含<code>pyenv</code>以外，还包含如下插件：</p><ul><li><code>pyenv-doctor</code></li><li><code>pyenv-installer</code></li><li><code>pyenv-update</code></li><li><code>pyenv-virtualenv</code></li><li><code>pyenv-which-ext</code></li></ul><p>安装完成后，<code>pyenv</code>命令还没有加进系统的环境变量，需要将如下内容加到<code>~/.zshrc</code>中，然后执行<code>source ~/.zshrc</code>。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>export PATH=$HOME/.pyenv/bin:$PATH
</span></span><span class=line><span class=cl>eval &#34;$(pyenv init -)&#34;
</span></span><span class=line><span class=cl>eval &#34;$(pyenv virtualenv-init -)&#34;
</span></span></code></pre></td></tr></table></div></div><p>完成以上操作后，<code>pyenv</code>就安装完成了。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ pyenv -v
</span></span><span class=line><span class=cl>pyenv 1.0.8
</span></span></code></pre></td></tr></table></div></div><p>如果不确定<code>pyenv</code>的环境是否安装正常，可以通过<code>pyenv doctor</code>命令对环境进行检测。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pyenv doctor
</span></span><span class=line><span class=cl>Cloning /Users/Leo/.pyenv/plugins/pyenv-doctor/bin/.....
</span></span><span class=line><span class=cl>Installing python-pyenv-doctor...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>BUILD FAILED (OS X 10.12.3 using python-build 20160602)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Last 10 log lines:
</span></span><span class=line><span class=cl>checking for memory.h... yes
</span></span><span class=line><span class=cl>checking for strings.h... yes
</span></span><span class=line><span class=cl>checking for inttypes.h... yes
</span></span><span class=line><span class=cl>checking for stdint.h... yes
</span></span><span class=line><span class=cl>checking for unistd.h... yes
</span></span><span class=line><span class=cl>checking openssl/ssl.h usability... no
</span></span><span class=line><span class=cl>checking openssl/ssl.h presence... no
</span></span><span class=line><span class=cl>checking for openssl/ssl.h... no
</span></span><span class=line><span class=cl>configure: error: OpenSSL development header is not installed.
</span></span><span class=line><span class=cl>make: *** No targets specified and no makefile found.  Stop.
</span></span><span class=line><span class=cl>Problem(s) detected while checking system.
</span></span></code></pre></td></tr></table></div></div><p>通过检测，可以发现本地环境可能存在的问题，例如，从以上输出可以看出，本地的<code>OpenSSL development header</code>还没有安装。根据提示的问题，逐一进行修复，直到检测不再出现问题为止。</p><h3 id=update>update</h3><p>通过<code>pyenv update</code>命令，可以更新<code>pyenv</code>全家桶的所有内容。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pyenv update
</span></span><span class=line><span class=cl>Updating /Users/Leo/.pyenv...
</span></span><span class=line><span class=cl>From https://github.com/yyuu/pyenv
</span></span><span class=line><span class=cl> * branch            master     -&gt; FETCH_HEAD
</span></span><span class=line><span class=cl>Already up-to-date.
</span></span><span class=line><span class=cl>Updating /Users/Leo/.pyenv/plugins/pyenv-doctor...
</span></span><span class=line><span class=cl>From https://github.com/yyuu/pyenv-doctor
</span></span><span class=line><span class=cl> * branch            master     -&gt; FETCH_HEAD
</span></span><span class=line><span class=cl>Already up-to-date.
</span></span><span class=line><span class=cl>Updating /Users/Leo/.pyenv/plugins/pyenv-installer...
</span></span><span class=line><span class=cl>From https://github.com/yyuu/pyenv-installer
</span></span><span class=line><span class=cl> * branch            master     -&gt; FETCH_HEAD
</span></span><span class=line><span class=cl>Already up-to-date.
</span></span><span class=line><span class=cl>Updating /Users/Leo/.pyenv/plugins/pyenv-update...
</span></span><span class=line><span class=cl>From https://github.com/yyuu/pyenv-update
</span></span><span class=line><span class=cl> * branch            master     -&gt; FETCH_HEAD
</span></span><span class=line><span class=cl>Already up-to-date.
</span></span><span class=line><span class=cl>Updating /Users/Leo/.pyenv/plugins/pyenv-virtualenv...
</span></span><span class=line><span class=cl>From https://github.com/yyuu/pyenv-virtualenv
</span></span><span class=line><span class=cl> * branch            master     -&gt; FETCH_HEAD
</span></span><span class=line><span class=cl>Already up-to-date.
</span></span><span class=line><span class=cl>Updating /Users/Leo/.pyenv/plugins/pyenv-which-ext...
</span></span><span class=line><span class=cl>From https://github.com/yyuu/pyenv-which-ext
</span></span><span class=line><span class=cl> * branch            master     -&gt; FETCH_HEAD
</span></span><span class=line><span class=cl>Already up-to-date.
</span></span></code></pre></td></tr></table></div></div><h2 id=pyenv的核心使用方法>pyenv的核心使用方法</h2><p><code>pyenv</code>的主要功能如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pyenv -h
</span></span><span class=line><span class=cl>Usage: pyenv &lt;command&gt; [&lt;args&gt;]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Some useful pyenv commands are:
</span></span><span class=line><span class=cl>   commands    List all available pyenv commands
</span></span><span class=line><span class=cl>   local       Set or show the local application-specific Python version
</span></span><span class=line><span class=cl>   global      Set or show the global Python version
</span></span><span class=line><span class=cl>   shell       Set or show the shell-specific Python version
</span></span><span class=line><span class=cl>   install     Install a Python version using python-build
</span></span><span class=line><span class=cl>   uninstall   Uninstall a specific Python version
</span></span><span class=line><span class=cl>   rehash      Rehash pyenv shims (run this after installing executables)
</span></span><span class=line><span class=cl>   version     Show the current Python version and its origin
</span></span><span class=line><span class=cl>   versions    List all Python versions available to pyenv
</span></span><span class=line><span class=cl>   which       Display the full path to an executable
</span></span><span class=line><span class=cl>   whence      List all Python versions that contain the given executable
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>See `pyenv help &lt;command&gt;&#39; for information on a specific command.
</span></span><span class=line><span class=cl>For full documentation, see: https://github.com/yyuu/pyenv#readme
</span></span></code></pre></td></tr></table></div></div><h3 id=查看所有可安装的python版本>查看所有可安装的<code>Python</code>版本</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pyenv install --list
</span></span><span class=line><span class=cl>Available versions:
</span></span><span class=line><span class=cl>  2.1.3
</span></span><span class=line><span class=cl>  ...
</span></span><span class=line><span class=cl>  2.7.12
</span></span><span class=line><span class=cl>  2.7.13
</span></span><span class=line><span class=cl>  ...
</span></span><span class=line><span class=cl>  3.5.3
</span></span><span class=line><span class=cl>  3.6.0
</span></span><span class=line><span class=cl>  3.6-dev
</span></span><span class=line><span class=cl>  3.6.1
</span></span><span class=line><span class=cl>  3.7-dev
</span></span></code></pre></td></tr></table></div></div><p>需要注意的是，如果是采用<code>brew</code>命令安装的<code>pyenv</code>，可能会发现<code>Python</code>版本库中没有最新的<code>Python</code>版本。所以建议还是通过<code>GitHub</code>源码方式安装<code>pyenv</code>。</p><h3 id=安装指定版本的python环境>安装指定版本的<code>Python</code>环境</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pyenv install 3.6.0
</span></span><span class=line><span class=cl>Downloading Python-3.6.0.tar.xz...
</span></span><span class=line><span class=cl>-&gt; https://www.python.org/ftp/python/3.6.0/Python-3.6.0.tar.xz
</span></span><span class=line><span class=cl>Installing Python-3.6.0...
</span></span><span class=line><span class=cl>Installed Python-3.6.0 to /Users/Leo/.pyenv/versions/3.6.0
</span></span></code></pre></td></tr></table></div></div><h3 id=查看当前系统中所有可用的python版本>查看当前系统中所有可用的<code>Python</code>版本</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pyenv versions
</span></span><span class=line><span class=cl>* system (set by /Users/Leo/.pyenv/version)
</span></span><span class=line><span class=cl>  2.7.13
</span></span><span class=line><span class=cl>  3.6.0
</span></span></code></pre></td></tr></table></div></div><h3 id=切换python版本>切换<code>Python</code>版本</h3><p><code>pyenv</code>可以从三个维度来管理<code>Python</code>环境，简称为：<code>当前系统</code>、<code>当前目录</code>、<code>当前shell</code>。这三个维度的优先级从左到右依次升高，即<code>当前系统</code>的优先级最低、<code>当前shell</code>的优先级最高。</p><p>如果想修改系统全局的Python环境，可以采用<code>pyenv global PYTHON_VERSION</code>命令。该命令执行后会在<code>$(pyenv root)</code>目录（默认为<code>~/.pyenv</code>）中创建一个名为<code>version</code>的文件（如果该文件已存在，则修改该文件的内容），里面记录着系统全局的Python版本号。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ pyenv global 2.7.13
</span></span><span class=line><span class=cl>$ cat ~/.pyenv/version
</span></span><span class=line><span class=cl>2.7.13
</span></span><span class=line><span class=cl>$ pyenv version
</span></span><span class=line><span class=cl>2.7.13 <span class=o>(</span><span class=nb>set</span> by /Users/Leo/.pyenv/version<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ pyenv global 3.6.0
</span></span><span class=line><span class=cl>$ cat ~/.pyenv/version
</span></span><span class=line><span class=cl>3.6.0
</span></span><span class=line><span class=cl>$ pyenv version
</span></span><span class=line><span class=cl>3.6.0 <span class=o>(</span><span class=nb>set</span> by /Users/Leo/.pyenv/version<span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><p>通常情况下，对于特定的项目，我们可能需要切换不同的Python环境，这个时候就可以通过<code>pyenv local PYTHON_VERSION</code>命令来修改<code>当前目录</code>的Python环境。命令执行后，会在当前目录中生成一个<code>.python-version</code>文件（如果该文件已存在，则修改该文件的内容），里面记录着当前目录使用的Python版本号。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ cat ~/.pyenv/version
</span></span><span class=line><span class=cl>2.7.13
</span></span><span class=line><span class=cl>$ pyenv <span class=nb>local</span> 3.6.0
</span></span><span class=line><span class=cl>$ cat .python-version
</span></span><span class=line><span class=cl>3.6.0
</span></span><span class=line><span class=cl>$ cat ~/.pyenv/version
</span></span><span class=line><span class=cl>2.7.13
</span></span><span class=line><span class=cl>$ pyenv version
</span></span><span class=line><span class=cl>3.6.0 <span class=o>(</span><span class=nb>set</span> by /Users/Leo/MyProjects/.python-version<span class=o>)</span>
</span></span><span class=line><span class=cl>$ pip -V
</span></span><span class=line><span class=cl>pip 9.0.1 from /Users/Leo/.pyenv/versions/3.6.0/lib/python3.6/site-packages <span class=o>(</span>python 3.6<span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><p>可以看出，当前目录中的<code>.python-version</code>配置优先于系统全局的<code>~/.pyenv/version</code>配置。</p><p>另外一种情况，通过执行<code>pyenv shell PYTHON_VERSION</code>命令，可以修改<code>当前shell</code>的Python环境。执行该命令后，会在当前<code>shell session</code>（Terminal窗口）中创建一个名为<code>PYENV_VERSION</code>的环境变量，然后在<code>当前shell</code>的任意目录中都会采用该环境变量设定的Python版本。此时，<code>当前系统</code>和<code>当前目录</code>中设定的Python版本均会被忽略。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ <span class=nb>echo</span> <span class=nv>$PYENV_VERSION</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ pyenv shell 3.6.0
</span></span><span class=line><span class=cl>$ <span class=nb>echo</span> <span class=nv>$PYENV_VERSION</span>
</span></span><span class=line><span class=cl>3.6.0
</span></span><span class=line><span class=cl>$ cat .python-version
</span></span><span class=line><span class=cl>2.7.13
</span></span><span class=line><span class=cl>$ pyenv version
</span></span><span class=line><span class=cl>3.6.0 <span class=o>(</span><span class=nb>set</span> by PYENV_VERSION environment variable<span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><p>顾名思义，<code>当前shell</code>的Python环境仅在当前shell中生效，重新打开一个新的shell后，该环境也就失效了。如果想在<code>当前shell</code>中取消shell级别的Python环境，采用<code>unset</code>命令重置<code>PYENV_VERSION</code>环境变量即可。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ cat .python-version
</span></span><span class=line><span class=cl>2.7.13
</span></span><span class=line><span class=cl>$ pyenv version
</span></span><span class=line><span class=cl>3.6.0 <span class=o>(</span><span class=nb>set</span> by PYENV_VERSION environment variable<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ <span class=nb>unset</span> PYENV_VERSION
</span></span><span class=line><span class=cl>$ pyenv version
</span></span><span class=line><span class=cl>2.7.13 <span class=o>(</span><span class=nb>set</span> by /Users/Leo/MyProjects/.python-version<span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=管理多个依赖库环境>管理多个依赖库环境</h2><p>经过以上操作，我们在本地计算机中就可以安装多个版本的<code>Python</code>运行环境，并可以按照实际需求进行灵活地切换。然而，很多时候在同一个<code>Python</code>版本下，我们仍然希望能根据项目进行环境分离，就跟之前我们使用<code>virtualenv</code>一样。</p><p>在<code>pyenv</code>中，也包含这么一个插件，<a href=https://github.com/pyenv/pyenv-virtualenv><code>pyenv-virtualenv</code></a>，可以实现同样的功能。</p><p>使用方式如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ pyenv virtualenv PYTHON_VERSION PROJECT_NAME
</span></span></code></pre></td></tr></table></div></div><p>其中，<code>PYTHON_VERSION</code>是具体的Python版本号，例如，<code>3.6.0</code>，<code>PROJECT_NAME</code>是我们自定义的项目名称。比较好的实践方式是，在<code>PROJECT_NAME</code>也带上Python的版本号，以便于识别。</p><p>现假设我们有<code>XDiff</code>这么一个项目，想针对<code>Python 2.7.13</code>和<code>Python 3.6.0</code>分别创建一个虚拟环境，那就可以依次执行如下命令。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ pyenv virtualenv 3.6.0 py36_XDiff
</span></span><span class=line><span class=cl>$ pyenv virtualenv 2.7.13 py27_XDiff
</span></span></code></pre></td></tr></table></div></div><p>创建完成后，通过执行<code>pyenv virtualenvs</code>命令，就可以看到本地所有的项目环境。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ pyenv virtualenvs
</span></span><span class=line><span class=cl>  2.7.13/envs/py27_XDiff <span class=o>(</span>created from /Users/Leo/.pyenv/versions/2.7.13<span class=o>)</span>
</span></span><span class=line><span class=cl>* 3.6.0/envs/py36_XDiff <span class=o>(</span>created from /Users/Leo/.pyenv/versions/3.6.0<span class=o>)</span>
</span></span><span class=line><span class=cl>  py27_XDiff <span class=o>(</span>created from /Users/Leo/.pyenv/versions/2.7.13<span class=o>)</span>
</span></span><span class=line><span class=cl>  py36_XDiff <span class=o>(</span>created from /Users/Leo/.pyenv/versions/3.6.0<span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><p>通过这种方式，在同一个Python版本下我们也可以创建多个虚拟环境，然后在各个虚拟环境中分别维护依赖库环境。</p><p>例如，<code>py36_XDiff</code>虚拟环境位于<code>/Users/Leo/.pyenv/versions/3.6.0/envs</code>目录下，而其依赖库位于<code>/Users/Leo/.pyenv/versions/3.6.0/lib/python3.6/site-packages</code>中。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ pip -V
</span></span><span class=line><span class=cl>pip 9.0.1 from /Users/Leo/.pyenv/versions/3.6.0/lib/python3.6/site-packages <span class=o>(</span>python 3.6<span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><p>后续在项目开发过程中，我们就可以通过<code>pyenv local XXX</code>或<code>pyenv activate PROJECT_NAME</code>命令来切换项目的<code>Python</code>环境。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>➜  MyProjects pyenv <span class=nb>local</span> py27_XDiff
</span></span><span class=line><span class=cl><span class=o>(</span>py27_XDiff<span class=o>)</span> ➜  MyProjects pyenv version
</span></span><span class=line><span class=cl>py27_XDiff <span class=o>(</span><span class=nb>set</span> by /Users/Leo/MyProjects/.python-version<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>(</span>py27_XDiff<span class=o>)</span> ➜  MyProjects python -V
</span></span><span class=line><span class=cl>Python 2.7.13
</span></span><span class=line><span class=cl><span class=o>(</span>py27_XDiff<span class=o>)</span> ➜  MyProjects pip -V
</span></span><span class=line><span class=cl>pip 9.0.1 from /Users/Leo/.pyenv/versions/2.7.13/envs/py27_XDiff/lib/python2.7/site-packages <span class=o>(</span>python 2.7<span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><p>可以看出，切换环境后，<code>pip</code>命令对应的目录也随之改变，即始终对应着当前的Python虚拟环境。</p><p>对应的，采用<code>pyenv deactivate</code>命令退出当前项目的<code>Python</code>虚拟环境。</p><p>如果想移除某个项目环境，可以通过如下命令实现。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ pyenv uninstall PROJECT_NAME
</span></span></code></pre></td></tr></table></div></div><p>以上便是日常开发工作中常用的<code>pyenv</code>命令，基本可以满足绝大多数依赖库环境管理方面的需求。</p></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>debugtalk</span></p><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2017-03-25</span></p><p class=copyright-item><span class=item-title>许可协议</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span></p></div><footer class=post-footer><div class=post-tags><a href=https://debugtalk.com/tags/Python/>Python</a>
<a href=https://debugtalk.com/tags/pyenv/>pyenv</a></div><nav class=post-nav><a class=prev href=/post/introduction-to-testing-engineer-daily-work/><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417l277.93508-310.326815c11.338233-12.190647 11.035334-32.285311-.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"/></svg></i><span class="prev-text nav-default">【科普】互联网测试岗位的工作日常</span>
<span class="prev-text nav-mobile">上一篇</span></a>
<a class=next href=/post/clean-sensitive-data-from-git-history-commits/><span class="next-text nav-default">【GIT技巧】清除历史提交记录中的敏感信息</span>
<span class="prev-text nav-mobile">下一篇</span>
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697c-11.777231-11.500939-30.216186-10.304694-41.178865 2.712784z"/></svg></i></a></nav></footer></article><div class=post><script src=https://utteranc.es/client.js repo=debugtalk/debugtalk.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></div><nav class=toc id=toc><div class=toc-title>文章目录</div><div class="toc-content custom-scrollbar"><nav id=TableOfContents><ul><li><a href=#背景>背景</a></li><li><a href=#基本原理>基本原理</a></li><li><a href=#环境初始化>环境初始化</a><ul><li><a href=#install--config>install && config</a></li><li><a href=#update>update</a></li></ul></li><li><a href=#pyenv的核心使用方法>pyenv的核心使用方法</a><ul><li><a href=#查看所有可安装的python版本>查看所有可安装的<code>Python</code>版本</a></li><li><a href=#安装指定版本的python环境>安装指定版本的<code>Python</code>环境</a></li><li><a href=#查看当前系统中所有可用的python版本>查看当前系统中所有可用的<code>Python</code>版本</a></li><li><a href=#切换python版本>切换<code>Python</code>版本</a></li></ul></li><li><a href=#管理多个依赖库环境>管理多个依赖库环境</a></li></ul></nav></div></nav></div></main><footer id=footer class=footer><div class=icon-links><a href=mailto:mail@debugtalk.com rel="me noopener" class=iconfont title=email><svg class="icon" viewBox="0 0 1451 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M664.781909 681.472759.0 97.881301C0 3.997201 71.046997.0 71.046997.0H474.477909 961.649408h399.992405s71.046998 3.997201 71.046998 97.881301L771.345323 681.472759S764.482731 685.154773 753.594283 688.65053V688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858V688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759zm53.281707 130.131124C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633.0 212.052267.0 212.052267V942.809523S0 1024 83.726336 1024H682.532949 753.579947h595.368192C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523V212.052267S893.138176 701.759633 817.019477 767.734955c-39.771477 34.470494-74.671786 43.295855-98.955861 43.868928z"/></svg></a><a href=https://github.com/debugtalk rel="me noopener" class=iconfont title=github target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M512 12.672c-282.88.0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667.0-12.16-.426667-44.373333-.64-87.04C242.005334 929.664 211.968 830.08 211.968 830.08 188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333.0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333.0.0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667.0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72.0 68.522667-.64 123.562667-.64 140.202666.0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"/></svg></a><a href=https://debugtalk.com/index.xml rel="noopener alternate" type=application/rss+xml class=iconfont title=rss target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30"><path d="M819.157333 1024C819.157333 574.592 449.408 204.8.0 204.8V0c561.706667.0 1024 462.293333 1024 1024H819.157333zM140.416 743.04a140.8 140.8.0 01140.501333 140.586667A140.928 140.928.0 01140.074667 1024C62.72 1024 0 961.109333.0 883.626667S62.933333 743.082667 140.416 743.04zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667v-199.04c372.352.0 678.784 306.517333 678.784 678.826667z"/></svg></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme - <a class=theme-link href=https://github.com/xianmin/hugo-theme-jane>Jane</a></span>
<span class=copyright-year>&copy;
2011 -
2023
<span class=heart><i class=iconfont><svg class="icon" viewBox="0 0 1025 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14"><path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7.0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1.0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2.0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3.1-42.5-8-83.6-24-122.2z" fill="#8a8a8a"/></svg></i></span><span class=author>debugtalk</span></span>
<span id=busuanzi_container>访客数/访问量：<span id=busuanzi_value_site_uv></span>/<span id=busuanzi_value_site_pv></span></span></div></footer><div class=button__back-to-top><a href=#back-to-top><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="35" height="35"><path d="M510.866688 227.694839 95.449397 629.218702h235.761562L329.15309 958.01517h362.40389L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777h894.052392v131.813095H63.840492V63.962777zm0 0"/></svg></i></a></div></div><script type=text/javascript src=/lib/jquery/jquery-3.2.1.min.js></script>
<script type=text/javascript src=/lib/slideout/slideout-1.0.1.min.js></script>
<script type=text/javascript src=/js/main.768b4cdf3e3ba2d09c6629ab958b1f0d344dadfe1be9f3b61caf45ee1799fb50.js integrity="sha256-dotM3z47otCcZimrlYsfDTRNrf4b6fO2HK9F7heZ+1A=" crossorigin=anonymous></script>
<script type=text/javascript src=/lib/photoswipe/photoswipe.min.js></script>
<script type=text/javascript src=/lib/photoswipe/photoswipe-ui-default.min.js></script>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<script src=/js/custom.js></script></body></html>